<form #f="ngForm" (ngSubmit)="onSubmit(f)" class="m-3 mx-5">
    <div class="col-sm-12 form-group">

        <label for="nome"> Nome </label>

        <input type="text" 
        class="form-control" 
        [ngClass]="aplicaCssErro(nome)"
        id="nome" 
        placeholder="Nome"
        name="nome"
        [(ngModel)]="usuario.nome"
        required 
        #nome="ngModel">
    
        <app-campo-control-erro 
        [mostrarErro]="verficaErrorTouched(nome)" 
        msgErro="Nome é obrigatório">
        </app-campo-control-erro>

    </div>

    <div class="col-sm-12 form-group">

        <label for="exampleInputEmail1"> Email </label>

        <input type="email" 
        class="form-control"
        [ngClass]="aplicaCssErro(email)"
        id="email" 
        aria-describedby="emailHelp" 
        placeholder="nome@email.com"
        name="email"
        [(ngModel)]="usuario.email"
        #email="ngModel"
        required email >
      
        <app-campo-control-erro 
        [mostrarErro]="verficaErrorTouched(email)" 
        msgErro="Email é obrigatório">
        </app-campo-control-erro>

    </div>

    <div ngModelGroup="endereco">

        <div class="form-group row">

            <div class="col-md-3">
                <label for="cep" class="control-label"> CEP </label>

                <input type="text" 
                class="form-control" 
                [ngClass]="aplicaCssErro(cep)"
                id="cep"
                name="cep"
                #cep="ngModel"
                ngModel
                required
                (blur)="consultaCEP(cep.value, f)">
        
                <app-campo-control-erro 
                [mostrarErro]="verficaErrorTouched(cep)" 
                msgErro="CEP é obrigatório">
                </app-campo-control-erro>
            </div>

            <div class="col-md-3 form-group">

                <label for="numero" class="control-label"> Número </label>
        
                <input type="text" 
                class="form-control" 
                [ngClass]="aplicaCssErro(numero)"
                id="numero"
                name="numero"
                #numero="ngModel"
                ngModel
                required>
                    
                <app-campo-control-erro 
                [mostrarErro]="verficaErrorTouched(numero)" 
                msgErro="Número é obrigatório">
                </app-campo-control-erro>
            </div>

            <div class="col-md-6 form-group">

                <label for="complemento" class="control-label"> Complemento </label>
        
                <input type="text" 
                class="form-control" 
                id="complemento"
                name="complemento"
                #complemento="ngModel"
                ngModel>
            </div>

            <div class="col-sm-12 form-group">

                <label for="rua"> Rua </label>
        
                <input type="text" 
                class="form-control" 
                [ngClass]="aplicaCssErro(rua)"
                id="rua" 
                name="rua"
                ngModel
                required 
                #rua="ngModel">
            
                <app-campo-control-erro 
                [mostrarErro]="verficaErrorTouched(rua)" 
                msgErro="Rua é obrigatório">
                </app-campo-control-erro>
            </div>

        </div>

        <div class="form-group row">

            <div class="col-md-5">
                <label for="bairro" class="control-label"> Bairro </label>

                <input type="text" 
                class="form-control" 
                [ngClass]="aplicaCssErro(bairro)"
                id="bairro"
                name="bairro"
                #bairro="ngModel"
                ngModel
                required>
                
                <app-campo-control-erro 
                [mostrarErro]="verficaErrorTouched(bairro)" 
                msgErro="Bairro é obrigatório">
                </app-campo-control-erro>
            </div>

            <div class="col-md-4">
                <label for="cidade" class="control-label"> Cidade </label>

                <input type="text" 
                class="form-control" 
                [ngClass]="aplicaCssErro(cidade)"
                id="cidade"
                name="cidade"
                #cidade="ngModel"
                ngModel
                required>
                        
                <app-campo-control-erro 
                [mostrarErro]="verficaErrorTouched(cidade)" 
                msgErro="Cidade é obrigatório">
                </app-campo-control-erro>
            </div>

            <div class="col-md-3">
                <label for="estado" class="control-label"> Estado </label>

                <input type="text" 
                class="form-control" 
                [ngClass]="aplicaCssErro(estado)"
                id="estado"
                name="estado"
                #estado="ngModel"
                ngModel
                required>
                        
                <app-campo-control-erro 
                [mostrarErro]="verficaErrorTouched(estado)" 
                msgErro="Estado é obrigatório">
                </app-campo-control-erro>
            </div>
        </div>

    </div>

    <button type="submit" class="my-2 btn btn-primary"
        [disabled]="f.invalid" >Submit</button>

    <app-form-debug [form]="f"></app-form-debug>
</form>